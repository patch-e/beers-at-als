<configuration>
  <system.webServer>

  <handlers>
    <add name="iisnode" path="beer.js" verb="*" modules="iisnode" />
  </handlers>

  <rewrite>
    <rules>
      <rule name="beer">
        <match url="beer/*" />
        <action type="Rewrite" url="beer.js" />
      </rule>
    </rules>
  </rewrite>

  <iisnode
    node_env="%node_env%"
    nodeProcessCommandLine="&quot;%programfiles%\nodejs\node.exe&quot;"
    interceptor="&quot;%programfiles%\iisnode\interceptor.js&quot;"
    nodeProcessCountPerApplication="1"
    maxConcurrentRequestsPerProcess="1024"
    maxNamedPipeConnectionRetry="100"
    namedPipeConnectionRetryDelay="250"
    maxNamedPipeConnectionPoolSize="512"
    maxNamedPipePooledConnectionAge="30000"
    asyncCompletionThreadCount="0"
    initialRequestBufferSize="4096"
    maxRequestBufferSize="65536"
    watchedFiles="*.js"
    uncFileChangesPollingInterval="5000"
    gracefulShutdownTimeout="60000"
    loggingEnabled="true"
    logDirectory="iisnode"
    debuggingEnabled="false"
    debuggerPortRange="5058-6058"
    debuggerPathSegment="debug"
    debugHeaderEnabled="false"
    maxLogFileSizeInKB="128"
    maxTotalLogFileSizeInKB="1024"
    maxLogFiles="30"
    devErrorsEnabled="true"
    flushResponse="false"
    enableXFF="true"
    promoteServerVars=""
    configOverrides="" />

  </system.webServer>
</configuration>